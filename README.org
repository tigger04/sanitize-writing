* Sanitize Writing Script
A Perl script that processes text files to replace specified patterns and sanitize smart quotes.

** Description
This script performs two main functions:
1. Replaces smart quotes using a sed script
2. Applies word-based pattern replacements defined in a configuration file

** Prerequisites
- Perl 5
- Required Perl modules:
  - File::Copy
  - File::Basename
  - Cwd
  - Getopt::Long
- sed (command-line utility) (temporary hack for smart quotes - TODO get this working in Perl)

** Installation
No special installation is required. Ensure the script and its companion =sanitize-writing.sed= file are in the same directory.

** Usage
#+BEGIN_SRC shell
./sanitize-writing.pl --template=CONFIG_FILE text_file
#+END_SRC

*** Parameters
- =--template= :: Path to the configuration file containing replacement patterns
- =text_file= :: Path to the text file to be processed

*** Configuration File Format
The configuration file should contain replacement patterns in the following format:
#+BEGIN_SRC text
search=replace
#+END_SRC

Each line defines a single replacement rule:
- Empty lines are ignored
- Lines starting with # are treated as comments
- Patterns are case-insensitive
- Words are matched with word boundaries

Example configuration:
#+BEGIN_SRC text
# Replace common abbreviations
govt=government
dept=department
#+END_SRC

** Features
- Creates automatic backups before processing
  - Original file: =.bak= extension
  - Sed processing backup: =.sed.bak= extension (temporary hack for smart quote TODO fix)
- Word boundary matching to prevent partial word replacements
- assumes UTF-8 encoding
- Preserves original file on error

** Error Handling
The script will exit with an error message if:
- Required files are missing
- Command-line arguments are incorrect
- File operations fail

** Output
- Reports each successful pattern replacement with count
- Creates backup files before modifications
- Displays completion message with backup location

** Examples
Process a document using a custom template:
#+BEGIN_SRC shell
./sanitize-writing.pl --template=my_rules.conf document.txt
#+END_SRC

** Files
- =sanitize-writing.pl= :: Main script
- =sanitize-writing.sed= :: Sed script for smart quotes replacement
- =CONFIG_FILE= :: User-provided replacement patterns
  - See =words-uk-to-us.txt= and =words-us-to-uk.txt= as examples
    (British to American and American to British English word replacements)
